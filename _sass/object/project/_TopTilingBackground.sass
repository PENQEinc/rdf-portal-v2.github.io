// ============================================================================
// Top Page Tiling Background - Project Component
// ============================================================================

#TopTilingBackground
  position: relative
  min-height: 100vh
  overflow: hidden
  // Stage 3: グラデーション背景
  background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)
  background-size: 400% 400%
  animation: gradientShift 15s ease infinite

  > .dataset-tiles
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    pointer-events: none
    z-index: 1
    opacity: 0.15
    // Stage 3: パララックス効果の準備
    transform: translateZ(0)

  // メインコンテンツは透明な背景で前面に表示
  > .p-hero
    position: relative
    z-index: 2

// Stage 3: 背景グラデーションアニメーション
@keyframes gradientShift
  0%
    background-position: 0% 50%
  50%
    background-position: 100% 50%
  100%
    background-position: 0% 50%

// Stage 3: パララックス効果（スクロール時）
.has-parallax #TopTilingBackground > .dataset-tiles
  transform: translateY(var(--parallax-offset, 0)) translateZ(0)

// レスポンシブ対応（強化）
@media (max-width: 1200px)
  #TopTilingBackground
    background-size: 300% 300%

@media (max-width: 768px)
  #TopTilingBackground
    background-size: 200% 200%
    animation-duration: 20s
    
    > .dataset-tiles
      opacity: 0.08

@media (max-width: 480px)
  #TopTilingBackground
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)
    background-size: 150% 150%

// プリファードモーション設定に対応
@media (prefers-reduced-motion: reduce)
  #TopTilingBackground
    animation: none
    background-position: 0% 50%
    
  .has-parallax #TopTilingBackground > .dataset-tiles
    transform: none
